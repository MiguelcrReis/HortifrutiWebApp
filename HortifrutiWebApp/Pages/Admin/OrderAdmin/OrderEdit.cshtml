@page "{id:int?}"
@model HortifrutiWebApp.Pages.Admin.OrderAdmin.OrderEditModel
@{
	ViewData["Title"] = "Alteração de Pedido";
}

<main class="container mt-3">
	<div class="row justify-content-md-center">
		<div class="col-sm-12">
			<h1>@ViewData["Title"] (@Model.Order.OrderId.ToString("D6"))</h1>
			<hr />
			<form method="post" class="mt-3" enctype="multipart/form-data">
				<div asp-validation-summary="ModelOnly" class="text-danger"></div>

				<input type="hidden" asp-for="Order.OrderId" />

				<div class="form-group">
					<label asp-for="Order.OrderStatus" class="control-label"></label>
					<select asp-for="Order.OrderStatus" asp-items="Html.GetEnumSelectList<HortifrutiWebApp.Models.Enums.OrderStatus>()" class="form-control col-6">
						<option selected="selected" value="">Selecione</option>
					</select>
					<span asp-validation-for="Order.OrderStatus" class="text-danger"></span>
				</div>

				<fieldset>
					<legend>Endereço de Entrega</legend>

					<div class="form-group">
						<label asp-for="Order.Address.Street" class="control-label"></label>
						<input asp-for="Order.Address.Street" class="form-control col-6" />
						<span asp-validation-for="Order.Address.Street" class="text-danger"></span>
					</div>

					<div class="form-group">
						<label asp-for="Order.Address.Number" class="control-label"></label>
						<input asp-for="Order.Address.Number" class="form-control col-1">
						<span asp-validation-for="Order.Address.Number" class="text-danger"></span>
					</div>

					<div class="form-group">
						<label asp-for="Order.Address.Complement" class="control-label"></label>
						<input asp-for="Order.Address.Complement" class="form-control col-2" />
						<span asp-validation-for="Order.Address.Complement" class="text-danger"></span>
					</div>

					<div class="form-group">
						<label asp-for="Order.Address.Neighborhood" class="control-label"></label>
						<input asp-for="Order.Address.Neighborhood" class="form-control col-4" />
						<span asp-validation-for="Order.Address.Neighborhood" class="text-danger"></span>
					</div>

					<div class="form-group">
						<label asp-for="Order.Address.City" class="control-label"></label>
						<input asp-for="Order.Address.City" class="form-control col-4" />
						<span asp-validation-for="Order.Address.City" class="text-danger"></span>
					</div>

					<div class="form-group">
						<label asp-for="Order.Address.State" class="control-label"></label>
						<select asp-for="Order.Address.State" class="form-control col-2">
							<option value="SP">São Paulo</option>
							<option value="RJ">Rio de Janeiro</option>
							<option value="MG">Minas Gerais</option>
							<option value="ES">Espírito Santo</option>
						</select>
						<span asp-validation-for="Order.Address.State" class="text-danger"></span>
					</div>

					<div class="form-group">
						<label asp-for="Order.Address.Cep" class="control-label"></label>
						<input asp-for="Order.Address.Cep" class="form-control col-2" />
						<span asp-validation-for="Order.Address.Cep" class="text-danger"></span>
					</div>

					<div class="form-group">
						<label asp-for="Order.Address.Reference" class="control-label"></label>
						<input asp-for="Order.Address.Reference" class="form-control col-6" />
						<span asp-validation-for="Order.Address.Reference" class="text-danger"></span>
					</div>

				</fieldset>

				<div class="form-group text-left">
					<a asp-page="./Index" class="btn btn-info">Cancelar</a>
					<input type="submit" value="Salvar" class="btn btn-primary" />
				</div>
			</form>
		</div>
	</div>
</main>

@section Scripts {
	@{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
	@{await Html.RenderPartialAsync("_CustomConfirm");}
	@{await Html.RenderPartialAsync("_ConsultCEP");}
	<script>
		$(document).ready(function () {
			$(".custom-file-input").change(function () {
				var file = $(this).val().split("\\").pop();
				$(this).next(".custom-file-label").html(file);
			});
		});
	</script>
}

